<form [formGroup]="form" (ngSubmit)="doRegister()" >
	<div class="title">
		Register
	</div>

	<div class="autogrid">
		<div class="input">
			<label for="username">Username</label>
			<input formControlName="username" required id="username" placeholder="Username" />

			<div class="validation-error" *ngIf="form.controls['username'].invalid && form.controls['username'].touched">
				<small *ngIf="form.controls['username'].errors?.['required']">
					Username is required
				</small>
			</div>
		</div>

		<div class="input">
			<label for="password">Password</label>
			<input formControlName="password" required id="password" placeholder="Password" />

			<div class="validation-error" *ngIf="form.controls['password'].invalid && form.controls['password'].touched">
				<small *ngIf="form.controls['password'].errors?.['required']">
					Password is required
				</small>
			</div>
		</div>
	</div>

	<div class="input">
		<label for="confirm_password">Confirm Password</label>
		<input formControlName="confirm_password" required id="confirm_password" placeholder="Retype password" />
		<div class="validation-error" *ngIf="form.controls['confirm_password'].invalid && form.controls['confirm_password'].touched">
			<small *ngIf="form.controls['confirm_password'].errors?.['required']">
				Insert the same password again
			</small>
		</div>

		<div class="validation-error" *ngIf="form.errors?.['passwordMismatch'] && form.touched">
			Passwords do not match!
		</div>
	</div>


	<div class="input">
		<label for="email">Email</label>
		<input formControlName="email" ngModel required id="email" placeholder="Email" />
		<div class="validation-error" *ngIf="form.controls['email'].invalid && form.controls['email'].touched">
			<small *ngIf="form.controls['email'].errors?.['required']">
				Email is required
			</small>

			<small *ngIf="form.controls['email'].errors?.['email']">
				Please insert a valid email
			</small>
		</div>
	</div>
	
	<div class="control">
		<button>Register</button>
	</div>
</form>
